{% extends 'places/base.html' %}
{% load crispy_forms_tags %}
{% block content %}
    {% for place in places %}
        <article class=" mb-3" style="">
            <div class="card" style="flex-direction: row;">
                <img src="{{place.thumbnail.url}}"  class="card-img card-img-top" alt="image">
                <div class="card-body">
                    <div class="right-side">
                        <p class="price">{{ place.price}} $</p>
                        <p class="rating">{{ place.score }}</p>
                    </div>
                    <h3 class="card-title">{{ place.name }}</h3>
                    <small>{{ place.city }}</small>
                    {% if place.description|length > 30 %}
                        <p class="card-text">{{place.description|truncatechars:100 }}</p>
                    {% else %}
                        <p class="card-text">{{place.description}}</p>
                    {% endif %}
                    <a href="{% url 'place_detail' place.id %}" class="btn btn-primary">See Details</a>
                </div>
            </div>
        </article>
    {% endfor %}
{% endblock %}

{% block side_content %}
    <form class="form" method="get">
        <fieldset class="form-group" >
            <legend class="border-bottom mb-4">Filter Places</legend>
            {{ filter.form|crispy}}
            <input type="submit" value="Filter" class="btn btn-info" />
        </fieldset>
    </form>
{% endblock %}
